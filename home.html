<link rel="stylesheet" href="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/themes/df-messenger-default.css">
<script src="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/df-messenger.js"></script>
<df-messenger
  location="australia-southeast1"
  project-id="erectile-dysfunction-455203"
  agent-id="f4c65b0e-8777-49ac-9dc1-f4ea6c046850"
  language-code="en"
  max-query-length="-1"
  intent="intent">
  <df-messenger-chat
    chat-title="Dr Edis AI v.03" 
    placeholder-text="Do you agree?">
  </df-messenger-chat>
</df-messenger>
<style>
  df-messenger {
    z-index: 999;
    position: fixed;
    --df-messenger-font-color: #000;
    --df-messenger-font-family: Google Sans;
    --df-messenger-chat-background: #f3f6fc;
    --df-messenger-message-user-background: #d3e3fd;
    --df-messenger-message-bot-background: #fff;
    bottom: 0;
    right: 0;
    top: 0;
    width: 350px;
  }
</style>

<script>
  // Wait for the component to be fully loaded
  window.addEventListener('df-messenger-loaded', () => {
    const dfMessenger = document.querySelector('df-messenger');
    if (dfMessenger && dfMessenger.shadowRoot) {
      // Function to update placeholder text
      function updatePlaceholderText() {
        const currentPage = dfMessenger.getAttribute('current-page');
        console.log('Current Page:', currentPage); // Log the current page

        if (currentPage !== 'Disclaimer') {
          const inputElement = dfMessenger.shadowRoot.querySelector('df-messenger-chat placeholder-text');
          if (inputElement) {
            inputElement.placeholder = 'How can I help you?';
            console.log('Placeholder updated to:', inputElement.placeholder); // Log the updated placeholder
          } else {
            console.warn('Input element not found'); // Log a warning if the input element is not found
          }
        } else {
          console.log('On Disclaimer page, placeholder not updated'); // Log when on the Disclaimer page
        }
      }

      // Listen for page changes
      dfMessenger.addEventListener('page-change', (event) => {
        console.log('Page Change Event:', event); // Log the page change event
        updatePlaceholderText();
      });

      // Initial update
      console.log('Initializing placeholder text'); // Log the initial update
      updatePlaceholderText();
    } else {
      console.error('df-messenger or its shadowRoot not found'); // Log an error if the component is not found
    }
  });
</script>